<!---
File: index.html
Version: 1.0
Date: 2017-03-08
Authors:
  - Alexander Silfverberg Ã–rtegren
  - Anders Hamfeldt
  - Cristoffer Jakobsson
  - Lejuan Hu
  - Tom Menchini
Brief:
  This file contains the basic HTML for the pub ordering system a.k.a "The Flying Dutchman".
  Most of the content is generated by javascript.
Dependecies:
  JavaScript:
  | -> js/base.js
  | -> js/dnd.js
  | -> js/translations.js
  | -> js/translation.js
  | -> js/undo.js
  | -> js/auth.js
  | -> js/api.js
  | -> js/display.js
  | -> js/libs/jquery-3.1.1.js
 CSS:
  | -> css/style.css
 Img:
  | -> beer.jpg
  | -> cart.png
  | -> ch.png
  | -> en.png
  | -> finger_down.png
  | -> finger_up.png
  | -> logo.png
  | -> lookingglas.png
  | -> sv.png
  | -> wine.jpg
  | -> wood-grain.jpg
-->
<!doctype html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <title>Flying dutchman</title>
    <meta charset='utf-8'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <meta content='IE=edge' http-equiv='X-UA-Compatible'>
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"> <!-- Nice font by Google -->
    <script src="js/libs/jquery-3.1.1.js"></script>

    <script src="js/translations.js"></script> <!-- where all the data-translations are stored -->
    <script src="js/translate.js"></script> <!-- the translation functions -->
    <script src="js/Undo.js"></script> <!-- undo and redo functions -->
    <script src="js/auth.js"></script> <!-- user and admin authentications -->
    <script src="js/display.js"></script> <!-- displaydriver to modify the DOM -->
    <script src="js/api.js"></script> <!-- database api-calls -->
    <script src="js/dnd.js"></script> <!-- drag and drop functions -->
    <script src="js/base.js"></script> <!-- setup of DOM -->

    <link rel="stylesheet" type="text/css" href="css/style.css">
  </head>
  <body>
    <!-- Main holder of the page -->
    <div class="main">
      <!-- icon for tutorial, hidden on start -->
      <img src="img/finger_up.png"  id="finger" style="width:50px;position: fixed; display: none;z-index:200;">
      <!-- top holder -->
      <div class="top">
	<div class="spanner"></div>
	<div class="logo">
	  <img src="img/logo.png">
	</div>
	
	<!-- icons of flags to choose language -->
	<div class="flags">
	  <img src="img/sv.png" id="sv" onclick="t.change('sv');" style="cursor:pointer;">
	  <img src="img/en.png" id="en" onclick="t.change('en');" style="cursor:pointer;">
	  <img src="img/ch.png" id="zh" onclick="t.change('zh');" style="cursor:pointer;">
	</div>
      </div>
      <!-- tabs of catalog, profiletab and user_admin is hidden depending on result of the authentication -->
      <div class="tabs">
	<div class="tab active" data-tabulate="catalog" data-filter="all" data-translation="all" id="origin"></div>
	<div class="tab" data-tabulate="catalog" data-filter="beer" data-translation="beer"></div>
	<div class="tab" data-tabulate="catalog" data-filter="wine" data-translation="wine"></div>
	<div class="tab" data-tabulate="profiletab" data-translation="profile" style="display:none;"></div>
	<div class="tab" data-tabulate="user_admin" data-translation="user_admin" style="display:none;"></div>
	<div class="tab" data-tabulate="table_view" data-translation="tableview" style="display:none;"></div>
      </div>
      <!-- the beverage-tab; the catalogs content is generated from the database -->
      <div class="tabcontent active catalog" id="catalog"></div>

      <!-- the table-view-tab --> 
      <div class="tabcontent table_view" id="table_view" style="position:relative;"></div>

      <!-- the users profile tab -->
      <div class="tabcontent profiletab">
        <!-- specific users purchases generated from database -->
        <div class="col-50">
	  <h4 data-translation="my_purchases"></h4>
          <table class="table">
	    <thead>
	      <tr>
		<th data-translation="timestamp"></th>
		<th data-translation="product"></th>
		<th data-translation="price"></th>
	      </tr>
	    </thead>
	    <tbody id="my_purchases"></tbody>
	  </table>
	</div>

        <!-- specific users payments generated from database  -->
	<div class="col-30">
	  <h4 data-translation="my_payments"></h4>
	  <table class="table">
	    <thead>
	      <tr>
		<th data-translation="timestamp"></th>
		<th data-translation="totalsum"></th>
	      </tr>
	    </thead>
	    <tbody id="my_payments"></tbody>
	  </table>
	</div>

        <!-- specific users debt/credit balance generated from database -->
	<div class="col-20">
	  <h4 data-translation="my_iou"></h4>

	  <table class="table">
	    <tbody id="my_iou" style="text-align:center;"></tbody>
	  </table>
          <!-- payment button to upload money to the users account -->
	  <button class="green" data-translation="make_payment" style="width:90%;margin:5%;" onClick="d.makePayment();"></button>
	</div>
      </div>
      <!-- admin tab -->
      <div class="tabcontent user_admin">
	<!-- list latest purchases from users -->
	<div class="col-50">
	  <h4 data-translation="user_purchases"></h4>
	  <button data-translation="reload" class="green" style="width:90%;margin:5%;" onClick="d.buildAdmin_purchases();"></button>
	  <table class="table">
	    <thead>
	      <tr>
		<th data-translation="timestamp"></th>
		<th data-translation="username"></th>
		<th data-translation="product"></th>
		<th data-translation="price"></th>
	      </tr>
	    </thead>
	    <tbody id="user_purchases"></tbody>
	  </table>
	</div>
        <!-- list latest payment uploads from users -->
	<div class="col-50">
	  <h4 data-translation="user_payments"></h4>
	  <button data-translation="reload" class="green" style="width:90%;margin:5%;" onClick="d.buildAdmin_payments();"></button>
	  <table class="table">
	    <thead>
	      <tr>
		<th data-translation="timestamp"></th>
		<th data-translation="username"></th>
		<th data-translation="amount"></th>
	      </tr>
	    </thead>
	    <tbody id="user_payments"></tbody>
	  </table>
	</div>
        <!-- list users with debt, displays user with higest debt in decending order-->
	<div class="col-50">
	  <h4 data-translation="user_debts"></h4>
	  <button data-translation="reload" class="green" style="width:90%;margin:5%;" onClick="d.buildAdmin_debts();"></button>
	  <table class="table">
	    <thead>
	      <tr>
		<th data-translation="username"></th>
		<th data-translation="first_name"></th>
		<th data-translation="last_name"></th>
		<th data-translation="assets"></th>
	      </tr>
	    </thead>
	    <tbody id="user_debts"></tbody>
	  </table>
	</div>

      </div>
      <!-- The more info popup-->
      <div id="moreInfo" class="infoPopup">

	<!-- infoPopup content -->
	<div class="infoPopup-content">
	  <div class="infoPopup-header">
	    <span class="close">&times;</span>
	    <h3 data-translation="moreinfo"></h3>
	  </div>
          <!-- extended information of a beverages, content gereated from database -->
	  <div class="infoPopup-body" >
	    <table id="beerInfo"></table>
	  </div>
	  <div class="infoPopup-footer"></div>
	</div>

      </div>
    </div>

    <div class="sidebar">
      <div class="ov">
	<div class="login">
	  <form id="loginform">
	    <div class="form-group">
	      <label for="username">
		<span data-translation="username"></span><br>
		<input type="text" name="username" id="username">
	      </label>
	    </div>
	    <div class="form-group">
	      <label for="password">
		<span data-translation="password"></span><br>
		<input type="password" name="password" id="password">
	      </label>
	    </div>
	    <div class="form-group">
	      <button type="submit" id="loginbutton" class="green" data-translation="login" style="width:100%;"></button>
	    </div>
	  </form>
	</div>
	
	<div class="profile" style="display: none;"></div>

	<div id="orderdiv" style="display:none;">
	  <button id="undo" style="width:49%;" data-translation="undo" onclick="d.undo();"></button>
	  <button id="redo" style="width:49%;" data-translation="redo" onclick="d.redo();"></button>
	  <div class="white">
	    <span data-translation="shopping_cart" style="width:100%;"></span>
	  </div>
	  <div class="cart" id="droppable"
	       ondrop="drop_handler(event)"
	       ondragenter="dragenter_handler(event)"
	       ondragleave="dragleave_handler(event)"
	       ondragover="allowDrop_handler(event)"></div>
	  <div class="white">
	    <span class="sumlabel" data-translation="totalsum"></span>
	    <span id="totalsum">0 SEK</span>
	  </div>
	  <button id="order" style="width:49%;" data-translation="order"onclick="d.checkout();"></button>
	  <button id="cancel" style="width:49%;" data-translation="cancel" onclick="d.clear();"></button>
	</div>
      </div>
    </div>
  </body>
<html>
